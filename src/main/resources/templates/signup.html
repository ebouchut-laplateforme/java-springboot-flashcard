<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Signup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="User signup" />

    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/sign-in.css}">
</head>
<body class="d-flex align-items-center py-4 bg-body-tertiary">
    <main class="form-signin w-100 m-auto">
        <form th:action="@{/signup}" th:object="${signupForm}" method="POST">
            <h1 class="h3 mb-3 fw-normal">Signup</h1>

            <!-- Display all errors at the top -->
            <div th:if="${#fields.hasAnyErrors()}" class="alert alert-danger">
                <ul>
                    <li th:each="err : ${#fields.allErrors()}" th:text="${err}">Error</li>
                </ul>
            </div>

            <!-- Display global errors (not bound to specific fields) -->
            <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
                <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">Global error</p>
            </div>

            <!--/* Hidden id (for updates) */-->
            <!--/*
                <input type="hidden" name="*{id}" />
            */-->

            <div class="form-floating">
                <input
                        type="email"
                        th:field="*{email}"
                        class="form-control"
                        id="email"
                        placeholder="name@example.com"
                        th:classappend="${#fields.hasErrors('email')} ? 'is-invalid'"
                />
                <label for="email">Email</label>
                <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}"
                     th:errors="*{email}">Email error</div>
            </div>

            <div class="form-floating">
                <input
                        type="password"
                        th:field="*{password}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('password')} ? 'is-invalid'"
                        id="password"
                        placeholder="Password"
                />
                <label for="password">Password</label>
                <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}"
                     th:errors="*{password}">Password error</div>
            </div>

            <button class="btn btn-primary w-100 py-2" type="submit">
                Sign up
            </button>
        </form>
    </main>
    <script defer="defer" th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>